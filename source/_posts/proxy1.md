title: 设计模式之代理模式
date: 2017/11/26 23:31:00
tags:
    - proxy
    - java
    - 代理模式
    - 设计模式
categories:
    - 设计模式
---

### 代理模式点解

代理模式对于技术人员来说是最常见的设计模式了吧。现实应用中对于代理模式的应用，比如我们熟知的Nginx,
大名鼎鼎的Socket5。用户通过代理来完成自己当前请求，而不直接访问资源，就像律师，用户不用直接参与诉讼，派出律师参与诉讼的整个环节。

综上所述，代理模式的好处在于以下几点：
* 安全性。在代理模式中，用户与资源之间通过代理访问，供求双方并不直接接触，一定程度上提高了安全性；
* 模糊处理细节。类比nginx，使用代理，模糊其中的技术细节，使访问过程变得容易。同时，在这里，代理或许会智能的处理找寻最近的资源反馈给用户；
* 延迟加载。类似在对数据库链接查询初始化的操作中，当服务刚刚启动时，因为并没有真正的用户操作，所以只初始化没有任何属性操作的代理类，而非初始化查询类。加快了启动速率。当用户真正去做查询操作时，再由代理了单独去加载真正的查询类，完成用户的请求。

咱们来举个🌰说明一下

<p style="text-align:center;">
    <img src="/img/context/proxy.png">
    <span>图1-代理初始化与访问查询时序图</span>
</p>

角色  | 作用
---   | ---
user|

<style type="text/css">
    p {
        text-indent: 2em
    }
</style>